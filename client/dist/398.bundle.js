/*! For license information please see 398.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[398],{1398:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var r=n(6540),a=n(5799);const o=function(e){var t=e.isOpen,n=e.onClose,a=e.onConfirm,o=e.title,s=e.message,i=e.confirmText,l=void 0===i?"Confirm":i,c=e.cancelText,u=void 0===c?"Cancel":c;return t?r.createElement(r.Fragment,null,r.createElement("div",{className:"modal-backdrop fade show"}),r.createElement("div",{className:"modal d-block",tabIndex:"-1",role:"dialog",style:{display:t?"block":"none"}},r.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.createElement("div",{className:"modal-content p-4 rounded shadow"},r.createElement("div",{className:"modal-header border-0 pb-0"},r.createElement("h5",{className:"modal-title fw-bold text-text"},o),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:n})),r.createElement("div",{className:"modal-body text-secondary pt-0"},r.createElement("p",null,s)),r.createElement("div",{className:"modal-footer border-0 pt-0 d-flex justify-content-end"},r.createElement("button",{type:"button",className:"btn btn-outline-secondary rounded-pill me-2",onClick:n,"aria-label":u},u),r.createElement("button",{type:"button",className:"btn btn-primary-custom rounded-pill",onClick:a,"aria-label":l},l)))))):null};var s=n(6248);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const f=function(e){var t=e.pet,n=e.onComplete,a=m((0,r.useState)("start"),2),o=a[0],i=a[1],l=m((0,r.useState)(null),2),u=l[0],d=l[1],f=m((0,r.useState)(null),2),p=f[0],v=f[1];return(0,r.useEffect)(function(){t&&(d(s.jn(t)),v(s.r_(t)))},[t]),(0,r.useEffect)(function(){if("start"===o){var e=setTimeout(function(){return i("evolving")},500);return function(){return clearTimeout(e)}}if("evolving"===o){var t=setTimeout(function(){return i("complete")},2e3);return function(){return clearTimeout(t)}}if("complete"===o){var r=setTimeout(function(){n&&n()},2e3);return function(){return clearTimeout(r)}}},[o,n]),t&&u?r.createElement("div",{className:"evolution-animation position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:9999,color:"white"}},r.createElement("div",{className:"text-center"},r.createElement("div",{className:"mb-4"},r.createElement("div",{className:"evolution-pet-display mb-3",style:c({fontSize:"8rem",transition:"all 0.5s ease-in-out"},function(){switch(o){case"start":return{transform:"scale(1)",opacity:1};case"evolving":return{transform:"scale(1.2)",opacity:.7,filter:"brightness(1.5) blur(2px)"};case"complete":return{transform:"scale(1)",opacity:1,filter:"brightness(1) blur(0px)"};default:return{}}}())},u.emoji),r.createElement("div",{className:"evolution-text"},"start"===o&&r.createElement("div",null,r.createElement("h3",{className:"text-primary fw-bold"},"Level Up!"),r.createElement("p",{className:"text-light"},u.name," is evolving...")),"evolving"===o&&r.createElement("div",null,r.createElement("h3",{className:"text-warning fw-bold"},"Evolution in Progress!"),r.createElement("div",{className:"spinner-border text-warning my-3",role:"status"},r.createElement("span",{className:"visually-hidden"},"Evolving...")),r.createElement("p",{className:"text-light"},"Something amazing is happening!")),"complete"===o&&p&&r.createElement("div",null,r.createElement("div",{className:"mb-3",style:{fontSize:"6rem"}},p.emoji),r.createElement("h3",{className:"text-success fw-bold"},"Evolution Complete!"),r.createElement("h4",{className:"text-primary"},p.name),r.createElement("p",{className:"text-light"},"Your pet has reached Level ",p.level,"!")),"complete"===o&&!p&&r.createElement("div",null,r.createElement("h3",{className:"text-success fw-bold"},"Level Up!"),r.createElement("h4",{className:"text-primary"},"Level ",t.level),r.createElement("p",{className:"text-light"},"Your ",u.name," grew stronger!")))),r.createElement("div",{className:"evolution-progress"},r.createElement("div",{className:"d-flex justify-content-center gap-3"},r.createElement("div",{className:"evolution-dot ".concat("start"===o?"active":"start"!==o?"complete":"")}),r.createElement("div",{className:"evolution-dot ".concat("evolving"===o?"active":"complete"===o?"complete":"")}),r.createElement("div",{className:"evolution-dot ".concat("complete"===o?"active":"")}))),"complete"===o&&r.createElement("button",{className:"btn btn-primary mt-4",onClick:n},"Continue")),r.createElement("style",{jsx:!0},"\n        .evolution-dot {\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          background-color: #6c757d;\n          transition: all 0.3s ease;\n        }\n\n        .evolution-dot.active {\n          background-color: #0d6efd;\n          box-shadow: 0 0 10px rgba(13, 110, 253, 0.5);\n        }\n\n        .evolution-dot.complete {\n          background-color: #198754;\n        }\n\n        @keyframes sparkle {\n          0%,\n          100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.7;\n            transform: scale(1.1);\n          }\n        }\n\n        .evolution-pet-display {\n          animation: ".concat("evolving"===o?"sparkle 0.5s infinite":"none",";\n        }\n      "))):null};var p=n(8369);const v={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let y;const b=new Uint8Array(16),g=[];for(let e=0;e<256;++e)g.push((e+256).toString(16).slice(1));function h(e,t,n){const r=(e=e||{}).random??e.rng?.()??function(){if(!y){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");y=crypto.getRandomValues.bind(crypto)}return y(b)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(g[e[t+0]]+g[e[t+1]]+g[e[t+2]]+g[e[t+3]]+"-"+g[e[t+4]]+g[e[t+5]]+"-"+g[e[t+6]]+g[e[t+7]]+"-"+g[e[t+8]]+g[e[t+9]]+"-"+g[e[t+10]]+g[e[t+11]]+g[e[t+12]]+g[e[t+13]]+g[e[t+14]]+g[e[t+15]]).toLowerCase()}(r)}var S=function(e){var t=e.minutes,n=e.isBreak,r=void 0!==n&&n,a=e.taskCompleted,o=void 0!==a&&a,s=e.currentStreak,i=void 0===s?0:s,l=e.recentShortSessionsCount,c=void 0===l?0:l,u=e.recentWorkMinutes,m=void 0===u?0:u,d=e.recentBreakMinutes,f=void 0===d?0:d;if(r||t<=0)return 0;var p=Math.round(10*t),v=function(e){return e<5?e*(e/(e+3)):e}(t),y=function(e){var t=e,n=1/(1+.5*Math.max(0,t-1));return t>6&&(n*=.2),n}(c),b=o?2:1,g=function(e){return 1+(t=e/20,Math.min(Math.max(t,0),.5));var t}(i),h=function(e,t){if(0===t)return 1;var n=e/t;return 1+.2*Math.max(0,1-Math.abs(n-4)/4)}(m,f),S=Math.round(p*(v/t)*y*b*g*h);return Math.max(0,S)};function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof i?r:i,c=Object.create(l.prototype);return k(c,"_invoke",function(n,r,a){var o,i,l,c=0,u=a||[],m=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,i=0,l=e,d.n=n,s}};function f(n,r){for(i=n,l=r,t=0;!m&&c&&!a&&t<u.length;t++){var a,o=u[t],f=d.p,p=o[2];n>3?(a=p===r)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(i=0,d.v=r,d.n=o[1]):f<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,d.n=p,i=0))}if(a||n>1)return s;throw m=!0,r}return function(a,u,p){if(c>1)throw TypeError("Generator is already running");for(m&&1===u&&f(u,p),i=u,l=p;(t=i<2?e:l)||!m;){o||(i?i<3?(i>1&&(d.n=-1),f(i,l)):d.n=l:d.v=l);try{if(c=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(m=d.n<0)?l:n.call(r,d))!==s)break}catch(t){o=e,i=1,l=t}finally{c=1}}return{value:t,done:m}}}(n,a,o),!0),c}var s={};function i(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(k(t={},r,function(){return this}),t),m=c.prototype=i.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,k(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=c,k(m,"constructor",c),k(c,"constructor",l),l.displayName="GeneratorFunction",k(c,a,"GeneratorFunction"),k(m),k(m,a,"Generator"),k(m,r,function(){return this}),k(m,"toString",function(){return"[object Generator]"}),(w=function(){return{w:o,m:d}})()}function k(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}k=function(e,t,n,r){function o(t,n){k(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},k(e,t,n,r)}function x(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function s(e){x(o,r,a,s,i,"next",e)}function i(e){x(o,r,a,s,i,"throw",e)}s(void 0)})}}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t,n){return(t=function(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I="ffm:queue",j="http://localhost:3001/api",T=function(){try{var e=localStorage.getItem(I);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading session queue:",e),[]}},M=function(e){try{localStorage.setItem(I,JSON.stringify(e))}catch(e){console.error("Error persisting session queue:",e)}},D=function(){var e=N(w().m(function e(t){var n,r,a,o,s;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("".concat(j,"/session/start"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:t.sessionId,durationMinutes:t.durationMinutes,isBreak:t.isBreak,goalId:t.goalId})});case 1:if(!(n=e.v).ok){e.n=3;break}return e.n=2,n.json();case 2:return r=e.v,t.serverSessionId=r.serverSessionId,t.serverValidated=!0,a=T(),(o=a.findIndex(function(e){return e.sessionId===t.sessionId}))>=0&&(a[o]=C(C({},a[o]),t),M(a)),console.log("Session started on server:",t.sessionId,"->",r.serverSessionId),e.a(2,{success:!0,serverSessionId:r.serverSessionId});case 3:return console.warn("Server session start failed, continuing offline:",n.status),e.a(2,{success:!1,offline:!0});case 4:e.n=6;break;case 5:return e.p=5,s=e.v,console.warn("Session start error, continuing offline:",s.message),e.a(2,{success:!1,offline:!0});case 6:return e.a(2)}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=N(w().m(function e(t){var n,r,a,o,s,i,l,c,u,m,d=arguments;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:null,r=d.length>2&&void 0!==d[2]&&d[2],a=T(),o=a.find(function(e){return e.sessionId===t})){e.n=1;break}return console.error("Session not found:",t),e.a(2,{success:!1,error:"Session not found"});case 1:if(s=(new Date).toISOString(),i=n||o.durationMinutes,!o.serverSessionId||!o.serverValidated){e.n=8;break}return e.p=2,e.n=3,fetch("".concat(j,"/session/end"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverSessionId:o.serverSessionId,actualDurationMinutes:i,tasksCompleted:r,completed:!0})});case 3:if(!(l=e.v).ok){e.n=5;break}return e.n=4,l.json();case 4:return c=e.v,o.endAt=s,o.completed=!0,o.xpGained=c.xpAwarded,o.interrupted=!1,o.actualDurationMinutes=i,o.tasksCompleted=r,o.serverValidated=!0,o.synced=!0,o.syncedAt=(new Date).toISOString(),M(a),console.log("Session completed with server validation:",t,"XP:",c.xpAwarded),e.a(2,{success:!0,xpGained:c.xpAwarded,serverValidated:!0});case 5:console.warn("Server validation failed, using client estimate:",l.status);case 6:e.n=8;break;case 7:e.p=7,m=e.v,console.warn("Server validation error, using client estimate:",m.message);case 8:return u=S({minutes:i,isBreak:o.isBreak,taskCompleted:r,currentStreak:0,recentShortSessionsCount:0,recentWorkMinutes:60,recentBreakMinutes:15}),o.endAt=s,o.completed=!0,o.xpGained=u,o.interrupted=!1,o.actualDurationMinutes=i,o.tasksCompleted=r,o.serverValidated=!1,M(a),console.log("Session completed with client estimate:",t,"XP:",u),B(),e.a(2,{success:!0,xpGained:u,serverValidated:!1})}},e,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=N(w().m(function e(t){var n,r,a,o,s,i,l,c,u,m=arguments;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:0,r=m.length>2&&void 0!==m[2]?m[2]:null,a=T(),o=a.find(function(e){return e.sessionId===t})){e.n=1;break}return console.error("Session not found:",t),e.a(2,{success:!1,error:"Session not found"});case 1:if(s=(new Date).toISOString(),i=r||0,!o.serverSessionId||!o.serverValidated){e.n=8;break}return e.p=2,e.n=3,fetch("".concat(j,"/session/end"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverSessionId:o.serverSessionId,actualDurationMinutes:i,tasksCompleted:!1,completed:!1})});case 3:if(!(l=e.v).ok){e.n=5;break}return e.n=4,l.json();case 4:return c=e.v,o.endAt=s,o.completed=!1,o.interrupted=!0,o.xpGained=c.xpAwarded,o.penaltyApplied=n,o.actualDurationMinutes=i,o.serverValidated=!0,o.synced=!0,o.syncedAt=(new Date).toISOString(),M(a),console.log("Session interrupted with server validation:",t,"XP:",c.xpAwarded),e.a(2,{success:!0,xpGained:c.xpAwarded,serverValidated:!0});case 5:console.warn("Server interruption validation failed, using client penalty:",l.status);case 6:e.n=8;break;case 7:e.p=7,u=e.v,console.warn("Server interruption error, using client penalty:",u.message);case 8:return o.endAt=s,o.completed=!1,o.interrupted=!0,o.penaltyApplied=n,o.xpGained=Math.max(0,(o.estimatedXP||0)-n),o.actualDurationMinutes=i,o.serverValidated=!1,M(a),console.log("Session interrupted with client penalty:",t,"Penalty:",n),B(),e.a(2,{success:!0,xpGained:o.xpGained,serverValidated:!1})}},e,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=N(w().m(function e(){var t,n,r,a,o;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=T(),0!==(n=t.filter(function(e){return!e.synced})).length){e.n=1;break}return e.a(2,{success:!0,synced:0});case 1:return e.p=1,e.n=2,fetch("".concat(j,"/sessions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessions:n})});case 2:if(!(r=e.v).ok){e.n=3;break}return a=t.map(function(e){return n.find(function(t){return t.sessionId===e.sessionId})?C(C({},e),{},{synced:!0,syncedAt:(new Date).toISOString()}):e}),M(a),console.log("Successfully synced ".concat(n.length," sessions")),e.a(2,{success:!0,synced:n.length});case 3:return console.error("Failed to sync sessions:",r.status),e.a(2,{success:!1,error:"HTTP ".concat(r.status)});case 4:e.n=6;break;case 5:return e.p=5,o=e.v,console.error("Error syncing sessions:",o),e.a(2,{success:!1,error:o.message});case 6:return e.a(2)}},e,null,[[1,5]])}));return function(){return e.apply(this,arguments)}}();function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var U=n(9955);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const z=function(){var e=(0,p.A)(),t=e.goals,n=e.user,i=e.timer,l=e.selectedPet,c=(e.shop,e.setWorkDuration),u=e.setBreakDuration,m=e.setSelectedGoal,d=e.addXP,y=e.addXPToPet,b=e.applyPenalty,g=e.completePomodoroForGoal,E=e.getActiveBeanTraits,w=F((0,r.useState)(!1),2),k=w[0],x=w[1],N=F((0,r.useState)(!1),2),P=N[0],O=N[1],I=F((0,r.useState)(null),2),j=I[0],R=I[1],L=F((0,r.useState)(!1),2),z=L[0],W=L[1],$=F((0,r.useState)(!1),2),_=$[0],J=$[1],q=F((0,r.useState)(0),2),Y=q[0],H=q[1],K=F((0,r.useState)(null),2),Q=K[0],Z=K[1],ee=F((0,r.useState)(null),2),te=ee[0],ne=ee[1];(0,r.useEffect)(function(){var e=k?i.breakDuration:i.workDuration,t=function(e){return S({minutes:e,isBreak:arguments.length>1&&void 0!==arguments[1]&&arguments[1],taskCompleted:arguments.length>2&&void 0!==arguments[2]&&arguments[2],currentStreak:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,recentShortSessionsCount:0,recentWorkMinutes:60,recentBreakMinutes:15})}(e,k,!1,0);H(t),Z(k?null:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e>=5)return null;var t=10*e,n=S({minutes:e,isBreak:!1,taskCompleted:!1,currentStreak:0,recentShortSessionsCount:0,recentWorkMinutes:60,recentBreakMinutes:15});return{baseXP:t,effectiveXP:n,penalty:t-n,warningMessage:"Sessions under 5 minutes receive reduced XP due to anti-farming protection."}}(e,k))},[i.workDuration,i.breakDuration,k]);var re,ae,oe,se=function(e,t){var n=G((0,r.useState)(null),2),a=n[0],o=n[1],s=G((0,r.useState)(0),2),i=s[0],l=s[1],c=G((0,r.useState)(!1),2),u=c[0],m=c[1],d=G((0,r.useState)(!1),2),f=d[0],p=d[1],y=G((0,r.useState)(0),2),b=y[0],g=y[1],E=(0,r.useRef)(null),w=(0,r.useRef)(null),k=(0,r.useRef)(null),x=(0,r.useRef)(0),N=(0,r.useRef)(null);(0,r.useEffect)(function(){var e=function(){if(document.hidden)N.current=Date.now();else if(N.current&&u&&!f){var e=Date.now()-N.current;e>2e3&&(console.log("Away for ".concat(e,"ms, applying penalty")),R(!0),t&&t({type:"tab_switch",awayTime:e,message:"Timer stopped due to being away for ".concat(Math.round(e/1e3),"s")})),N.current=null}};return document.addEventListener("visibilitychange",e),function(){return document.removeEventListener("visibilitychange",e)}},[u,f,t]);var P=(0,r.useCallback)(function(){if(u&&!f&&w.current&&a){var e=(Date.now()-w.current-x.current)/1e3,t=Math.max(0,60*a.durationMinutes-e);l(Math.ceil(t)),g((60*a.durationMinutes-t)/(60*a.durationMinutes)*100),t<=0&&U()}},[u,f,a]);(0,r.useEffect)(function(){return u&&!f?E.current=setInterval(P,100):clearInterval(E.current),function(){return clearInterval(E.current)}},[u,f,P]);var O=(0,r.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(u)return console.warn("Timer already active"),!1;var a=function(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{sessionId:!v.randomUUID||n||t?h(t,n,r):v.randomUUID(),startAt:(new Date).toISOString(),endAt:null,durationMinutes:e,completed:!1,xpGained:0,interrupted:!1,penaltyApplied:0,isBreak:a,goalId:o,type:a?"break":"work",serverSessionId:null,estimatedXP:0,serverValidated:!1}}(e,t,n);return a.tasksCompleted=r,o(a),l(60*e),g(0),m(!0),p(!1),w.current=Date.now(),x.current=0,k.current=null,function(e){e.estimatedXP=S({minutes:e.durationMinutes,isBreak:e.isBreak,taskCompleted:e.tasksCompleted||!1,currentStreak:0,recentShortSessionsCount:0,recentWorkMinutes:60,recentBreakMinutes:15});var t=T();t.push(C(C({},e),{},{queuedAt:(new Date).toISOString()})),M(t),console.log("Session queued for sync:",e.sessionId),B()}(a),D(a),console.log("Timer started: ".concat(e," minutes"),a),!0},[u]),I=(0,r.useCallback)(function(){return!u||f?(console.warn("Cannot pause: timer not active or already paused"),!1):(p(!0),k.current=Date.now(),console.log("Timer paused"),!0)},[u,f]),j=(0,r.useCallback)(function(){if(!u||!f)return console.warn("Cannot resume: timer not active or not paused"),!1;if(k.current){var e=Date.now()-k.current;x.current+=e,k.current=null}return p(!1),console.log("Timer resumed"),!0},[u,f]),R=(0,r.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!u||!a)return console.warn("Cannot stop: timer not active"),!1;clearInterval(E.current);var t=w.current?Math.round((Date.now()-w.current-x.current)/6e4):0;return e?X(a.sessionId,10,t).then(function(e){console.log("Timer stopped with penalty: ".concat(10," XP, actual XP: ").concat(e.xpGained))}).catch(function(e){console.error("Error interrupting session:",e)}):X(a.sessionId,0,t).then(function(e){console.log("Timer stopped without penalty, XP gained: ".concat(e.xpGained))}).catch(function(e){console.error("Error stopping session:",e)}),m(!1),p(!1),l(0),g(0),o(null),w.current=null,x.current=0,k.current=null,N.current=null,!0},[u,a]),U=(0,r.useCallback)(function(){if(a){clearInterval(E.current);var t=w.current?Math.round((Date.now()-w.current-x.current)/6e4):a.durationMinutes;A(a.sessionId,t,a.tasksCompleted).then(function(n){console.log("Timer completed! XP gained: ".concat(n.xpGained)),e&&e({session:a,xpGained:n.xpGained,durationMinutes:t,isBreak:a.isBreak,goalId:a.goalId,tasksCompleted:a.tasksCompleted,serverValidated:n.serverValidated})}).catch(function(n){console.error("Error completing session:",n);var r=Math.round(10*a.durationMinutes);e&&e({session:a,xpGained:r,durationMinutes:t,isBreak:a.isBreak,goalId:a.goalId,tasksCompleted:a.tasksCompleted,serverValidated:!1})}),m(!1),p(!1),l(0),g(0),o(null),w.current=null,x.current=0,k.current=null,N.current=null}else console.warn("Cannot complete: no active session")},[a,e]),V=(0,r.useCallback)(function(e){var t=Math.floor(e/60),n=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))},[]);return{session:a,timeLeft:i,isActive:u,isPaused:f,progress:b,startTimer:O,pauseTimer:I,resumeTimer:j,stopTimer:R,formatTime:V,formattedTimeLeft:V(i),canStart:!u,canPause:u&&!f,canResume:u&&f,canStop:u,setDuration:function(){}}}(function(e){var n=e.xpGained,r=e.durationMinutes,a=e.isBreak,o=e.goalId,i=E(),c=null;if(o&&t){var u=t.find(function(e){return e.id===o});c=null==u?void 0:u.category}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||0===t.length)return{finalXP:e,appliedTraits:[],multiplier:1};var r,a=n.isBreak,o=void 0!==a&&a,s=n.goalCategory,i=void 0===s?null:s,l=n.durationMinutes,c=void 0===l?0:l,u=1,m=[],d=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return V(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw o}}}}(t);try{for(d.s();!(r=d.n()).done;){var f=r.value,p=U.GS[f];if(p){var v=!1;switch(p.type){case"global":v=!0;break;case"work":v=!o;break;case"break":v=o;break;case"creative":case"study":v=!o&&i&&i.toLowerCase()===p.type;break;case"short-session":v=!o&&c>0&&c<15;break;case"long-session":v=!o&&c>=45;break;default:v=!1}v&&(u*=p.multiplier,m.push({id:f,name:p.name,multiplier:p.multiplier,type:p.type}))}}}catch(e){d.e(e)}finally{d.f()}var y=Math.min(u,2.5);return{finalXP:Math.round(e*y),appliedTraits:m,multiplier:y}}(n,i,{isBreak:a,goalCategory:c,durationMinutes:r}),f=m.finalXP;if(d(f,{onLevelUp:function(e){console.log("Level up! Now level ".concat(e.level))}}),l&&f>0){var p="general";if(o&&t){var v=t.find(function(e){return e.id===o});null!=v&&v.category&&(p=v.category.toLowerCase())}var b=s.eM[l.type],h=f;b&&b.specialty===p&&b.xpBonus&&(h=Math.round(f*b.xpBonus));var S=l.level,w=s.jn(l);y(l.id,h);var k=s.yk()[l.id];if(k&&k.level>S){var N=s.jn(k);N&&N.level!==(null==w?void 0:w.level)&&ne(k)}console.log("Pet ".concat(l.id," gained ").concat(h," XP (").concat(h!==f?"with specialty bonus!":"base amount",")"))}if(f>0){var P=function(e){if(!e||0===e.length)return null;if(1===e.length){var t=e[0],n=Math.round(100*(t.multiplier-1));return"".concat(t.name," +").concat(n,"%")}var r=e.reduce(function(e,t){return e*t.multiplier},1),a=Math.round(100*(r-1));return"Multiple traits +".concat(a,"%")}(m.appliedTraits),C=P?"Great job! +".concat(f," XP earned! (").concat(P,")"):"Great job! +".concat(f," XP earned!");R({type:"gain",amount:f,message:C}),setTimeout(function(){return R(null)},3e3)}o&&!a&&(g(o),console.log("Updated goal ".concat(o," with completed session"))),x(!a),console.log("Timer completed! ".concat(a?"Break":"Work"," session: ").concat(r,"m, XP: ").concat(n," -> ").concat(f," (with traits)"))},function(e){b(e),R({type:"loss",amount:e.amount||10,message:"Focus broken! -".concat(e.amount||10," XP penalty")}),setTimeout(function(){return R(null)},4e3),x(!1)}),ie=(se.timeLeft,se.isActive),le=se.isPaused,ce=se.progress,ue=se.startTimer,me=se.pauseTimer,de=se.resumeTimer,fe=se.stopTimer,pe=se.formattedTimeLeft,ve=se.canStart,ye=se.canPause,be=se.canResume,ge=(se.canStop,function(){O(!0)});return r.createElement("div",{className:"text-center"},j&&r.createElement("div",{className:"alert ".concat("gain"===j.type?"alert-success":"alert-danger"," position-fixed"),style:{top:"20px",left:"50%",transform:"translateX(-50%)",zIndex:1050,minWidth:"250px",animation:"slideDown 0.3s ease-out"}},r.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.createElement("span",{className:"me-2",style:{fontSize:"1.2em"}},"gain"===j.type?"üéâ":"üòî"),r.createElement("strong",null,j.message))),r.createElement("div",{className:"mb-3"},r.createElement("h3",{className:"h4 fw-bold mb-2 ".concat(k?"text-success":"text-primary"),style:{padding:"12px 24px",borderRadius:"25px",backgroundColor:k?"#d4edda":"#e3f2fd",border:"2px solid ".concat(k?"#28a745":"#007bff")}},k?"‚òï Break Time - Relax!":"üéØ Work Time - Focus!"),ie&&r.createElement("div",{className:"small ".concat(k?"text-success":"text-primary"," fw-semibold")},"Session in progress...")),!ie&&r.createElement("div",{className:"d-flex justify-content-center mb-3"},r.createElement("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(){return J(!0)}},"‚öôÔ∏è Timer Settings")),r.createElement("div",{className:"timer-circle-container mb-4",style:{position:"relative"}},r.createElement("svg",{className:"timer-circle",viewBox:"0 0 200 200"},r.createElement("circle",{cx:"100",cy:"100",r:"90",fill:"none",stroke:"var(--color-secondary)",strokeWidth:"8",opacity:"0.3"}),r.createElement("circle",{cx:"100",cy:"100",r:"90",fill:"none",stroke:k?"#28a745":"var(--color-primary)",strokeWidth:"12",strokeDasharray:"".concat(2*Math.PI*90),strokeDashoffset:2*Math.PI*90*(1-(ie?ce:0)/100),strokeLinecap:"round",transform:"rotate(-90 100 100)",style:{transition:"stroke-dashoffset 0.1s linear",filter:k?"drop-shadow(0 0 10px #28a74550)":"drop-shadow(0 0 10px #5ab6bd50)"}})),r.createElement("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center"},r.createElement("div",{className:"text-center"},r.createElement("span",{className:"timer-display fw-bold ".concat(k?"text-success":"text-primary"),style:{fontSize:"clamp(1.5rem, 4vw, 2.5rem)"}},ie?pe:(re=60*(k?i.breakDuration:i.workDuration),ae=Math.floor(re/60),oe=re%60,"".concat(ae.toString().padStart(2,"0"),":").concat(oe.toString().padStart(2,"0")))),ie&&r.createElement("div",{className:"small ".concat(k?"text-success":"text-primary"),style:{fontSize:"0.7rem",marginTop:"4px",opacity:.8}},k?"Break Mode":"Focus Mode")))),!ie&&!k&&t.length>0&&r.createElement("div",{className:"goal-selector mb-4"},r.createElement("label",{htmlFor:"goal-select",className:"form-label fw-semibold small"},"Focus Goal (Optional)"),r.createElement("select",{id:"goal-select",className:"form-select form-select-sm",value:i.selectedGoal,onChange:function(e){return m(e.target.value)},"aria-label":"Select a goal"},r.createElement("option",{value:""},"Choose a goal..."),t.map(function(e){return r.createElement("option",{key:e.id,value:e.id},e.title," (",e.completedPomodoros,"/",e.pomodoros,")")}))),!ie&&r.createElement("div",{className:"mb-4"},r.createElement("div",{className:"row text-center"},r.createElement("div",{className:"col-3"},r.createElement("div",{className:"small text-muted"},"Level"),r.createElement("div",{className:"fw-bold text-primary"},n.level)),r.createElement("div",{className:"col-3"},r.createElement("div",{className:"small text-muted"},"XP"),r.createElement("div",{className:"fw-bold text-accent"},n.xp)),r.createElement("div",{className:"col-3"},r.createElement("div",{className:"small text-muted"},"Sessions"),r.createElement("div",{className:"fw-bold text-secondary"},n.totalSessions)),r.createElement("div",{className:"col-3"},r.createElement("div",{className:"small text-muted"},"Est. XP"),r.createElement("div",{className:"fw-bold ".concat(Q?"text-warning":"text-success")},"+",Y,Q&&r.createElement("div",{className:"small text-warning",style:{fontSize:"0.7rem"}},"Reduced")))),Q&&!k&&r.createElement("div",{className:"alert alert-warning mt-3 py-2"},r.createElement("div",{className:"small"},r.createElement("strong",null,"‚ö†Ô∏è Short Session Warning:"),r.createElement("br",null),Q.warningMessage,r.createElement("br",null),r.createElement("strong",null,"Base XP:")," ",Q.baseXP," ‚Üí"," ",r.createElement("strong",null,"Actual XP:")," ",Q.effectiveXP))),r.createElement("div",{className:"timer-controls d-flex flex-column gap-3"},ve&&r.createElement("div",{className:"d-grid gap-3"},r.createElement(a.$,{onClick:function(){Q?W(!0):(x(!1),ue(i.workDuration,!1,i.selectedGoal,!1))},variant:"primary",size:"lg",icon:"üéØ","aria-label":"Start Work Timer",style:{fontSize:"1.1em",padding:"12px"}},"Start Focus Session (",i.workDuration,"m)",r.createElement("div",{className:"small mt-1",style:{fontSize:"0.8em",opacity:.9}},"+",Y," XP",Q&&r.createElement("span",{className:"text-warning"}," ‚ö†Ô∏è Reduced"))),r.createElement(a.$,{onClick:function(){x(!0),ue(i.breakDuration,!0,null,!1)},variant:"outline-secondary",size:"md",icon:"‚òï","aria-label":"Start Break Timer"},"Take a Break (",i.breakDuration,"m)")),ye&&!k&&r.createElement("div",{className:"d-flex justify-content-center"},r.createElement(a.$,{onClick:ge,variant:"danger",icon:"‚õî",size:"lg","aria-label":"Stop Focus Session",style:{fontSize:"1.1em",padding:"12px 24px",boxShadow:"0 4px 12px rgba(220, 53, 69, 0.3)"}},"End Focus Session",r.createElement("div",{className:"small mt-1",style:{fontSize:"0.8em",opacity:.9}},"(‚ö†Ô∏è -10 XP penalty)"))),ye&&k&&r.createElement("div",{className:"d-flex gap-2"},r.createElement(a.$,{onClick:me,variant:"secondary",icon:"‚è∏Ô∏è",className:"flex-grow-1","aria-label":"Pause Break Timer"},"Pause"),r.createElement(a.$,{onClick:ge,variant:"outline-danger",icon:"‚èπÔ∏è",className:"flex-grow-1","aria-label":"End Break"},"End Break")),be&&r.createElement("div",{className:"d-flex gap-2"},r.createElement(a.$,{onClick:de,variant:"primary",icon:"‚ñ∂Ô∏è",className:"flex-grow-1","aria-label":"Resume Timer"},"Resume"),r.createElement(a.$,{onClick:ge,variant:"outline-danger",icon:"‚èπÔ∏è",className:"flex-grow-1","aria-label":"Stop Timer"},"Stop"))),r.createElement(o,{isOpen:z,onConfirm:function(){x(!1),ue(i.workDuration,!1,i.selectedGoal,!1),W(!1)},onCancel:function(){W(!1)},title:"‚ö†Ô∏è Short Session Warning",message:r.createElement("div",{className:"text-center"},r.createElement("p",{className:"mb-3"},"This session is shorter than 5 minutes and will receive reduced XP."),Q&&r.createElement("div",{className:"alert alert-warning py-2"},r.createElement("strong",null,"XP Impact:"),r.createElement("br",null),"Base XP: ",r.createElement("strong",null,Q.baseXP),r.createElement("br",null),"Reduced XP: ",r.createElement("strong",null,Q.effectiveXP),r.createElement("br",null),r.createElement("small",{className:"text-muted mt-2"},"Longer sessions (5+ minutes) receive full XP to encourage deep focus.")),r.createElement("p",{className:"mb-0"},"Would you like to start anyway, or extend your session for better XP?")),confirmText:"Start Anyway",cancelText:"Extend Session",confirmVariant:"warning"}),r.createElement(o,{isOpen:P,onConfirm:function(){var e=!le;e&&b({type:"manual_stop",amount:10}),fe(e),x(!1),O(!1)},onCancel:function(){O(!1)},title:"‚ö†Ô∏è Stop Focus Session?",message:r.createElement("div",{className:"text-center"},r.createElement("p",{className:"mb-3"},"Are you sure you want to end your focus session early?"),!k&&r.createElement("div",{className:"alert alert-warning py-2"},r.createElement("strong",null,"‚ö†Ô∏è Penalty:")," You'll lose ",r.createElement("strong",null,"10 XP")," ","for stopping early.",r.createElement("br",null),r.createElement("small",{className:"text-muted"},"Stay focused to earn XP instead!")),k&&r.createElement("div",{className:"alert alert-info py-2"},r.createElement("small",null,"No penalty for ending break time early."))),confirmText:k?"End Break":"Stop Session",cancelText:"Keep Going",confirmVariant:"danger"}),_&&r.createElement(r.Fragment,null,r.createElement("div",{className:"modal-backdrop fade show"}),r.createElement("div",{className:"modal d-block",tabIndex:"-1",role:"dialog"},r.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.createElement("div",{className:"modal-content p-4 rounded shadow"},r.createElement("div",{className:"modal-header border-0 pb-3"},r.createElement("h5",{className:"modal-title fw-bold text-text"},"‚öôÔ∏è Timer Settings"),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(){return J(!1)}})),r.createElement("div",{className:"modal-body pt-0"},r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"work-duration",className:"form-label small fw-semibold"},"Work Duration (minutes)"),r.createElement("input",{id:"work-duration",type:"number",className:"form-control",value:i.workDuration,onChange:function(e){var t=Math.max(1,Math.min(120,parseInt(e.target.value)||1));c(t)},min:"1",max:"120",step:"1"}),r.createElement("div",{className:"form-text"},"1-120 minutes. Recommended: 25-45 minutes for optimal focus.")),r.createElement("div",{className:"mb-3"},r.createElement("label",{htmlFor:"break-duration",className:"form-label small fw-semibold"},"Break Duration (minutes)"),r.createElement("input",{id:"break-duration",type:"number",className:"form-control",value:i.breakDuration,onChange:function(e){var t=Math.max(1,Math.min(60,parseInt(e.target.value)||1));u(t)},min:"1",max:"60",step:"1"}),r.createElement("div",{className:"form-text"},"1-60 minutes. Recommended: 5-15 minutes for short breaks."))),r.createElement("div",{className:"modal-footer border-0 pt-0 d-flex justify-content-end"},r.createElement("button",{type:"button",className:"btn btn-primary-custom rounded-pill",onClick:function(){return J(!1)}},"Save Settings")))))),te&&r.createElement(f,{pet:te,onComplete:function(){ne(null),s.yk()[l.id]&&console.log("Evolution animation complete")}}))}}}]);