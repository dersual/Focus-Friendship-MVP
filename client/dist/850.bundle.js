"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[850],{2850:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var n=a(6540),l=a(8369),r=a(5799),o=a(6780);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,l,r,o,c=[],s=!0,i=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(n=r.call(a)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){i=!0,l=e}finally{try{if(!s&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(i)throw l}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}const i=function(){var e=(0,l.A)(),t=e.goals,a=e.refreshGoals,s=e.addXP,i=e.user,m=null==i?void 0:i.uid,u=c((0,n.useState)(""),2),d=u[0],f=u[1],p=c((0,n.useState)(1),2),b=p[0],g=p[1],v=c((0,n.useState)(1),2),h=v[0],y=v[1],E=c((0,n.useState)(null),2),N=E[0],w=E[1];(0,n.useEffect)(function(){m&&a()},[m,a]);var x=Math.ceil(t.length/4),k=4*(h-1),C=t.slice(k,k+4);return n.createElement("div",{className:"goals-container",style:{height:"100%",overflow:"hidden"}},n.createElement("div",{className:"d-flex justify-content-between align-items-center mb-4"},n.createElement("h3",{className:"h4 fw-bold mb-0"},"ðŸŽ¯ My Goals"),t.length>4&&n.createElement("small",{className:"text-muted"},k+1,"-",Math.min(k+4,t.length)," ","of ",t.length)),N&&n.createElement("div",{className:"alert alert-success py-2 mb-3",role:"alert"},n.createElement("small",{className:"fw-bold"},N)),n.createElement("form",{onSubmit:function(e){e.preventDefault(),d.trim()&&b>0&&(o.D({title:d,pomodoros:parseInt(b,10)}),a(),f(""),g(1))},className:"mb-4"},n.createElement("div",{className:"row g-2 mb-3"},n.createElement("div",{className:"col-8"},n.createElement("input",{type:"text",className:"form-control",placeholder:"Goal title...",value:d,onChange:function(e){return f(e.target.value)},required:!0})),n.createElement("div",{className:"col-4"},n.createElement("input",{type:"number",className:"form-control text-center",placeholder:"Sessions",value:b,onChange:function(e){return g(parseInt(e.target.value)||1)},min:"1",max:"100",required:!0}))),n.createElement(r.$,{type:"submit",variant:"primary",size:"sm",icon:"+",className:"w-100"},"Add Goal")),n.createElement("div",{className:"goals-list-container",style:{height:"calc(100% - 220px)",overflowY:"auto",overflowX:"hidden"}},0===t.length?n.createElement("div",{className:"text-center py-4"},n.createElement("p",{className:"text-muted mb-0"},"No goals yet. Add one above!")):n.createElement("div",{className:"goals-list"},C.map(function(e){return n.createElement("div",{key:e.id,className:"goal-item mb-3 p-3 border rounded-3 bg-light"},n.createElement("div",{className:"d-flex justify-content-between align-items-start mb-2"},n.createElement("h6",{className:"fw-semibold mb-0"},e.title),n.createElement("button",{onClick:function(){return function(e){var n=t.find(function(t){return t.id===e});if(n&&n.completedPomodoros>=n.pomodoros){var l=50*n.pomodoros;s(l,{onLevelUp:function(e){console.log("Level up! Now level ".concat(e.level))}}),w("ðŸŽ‰ +".concat(l,' XP for completing "').concat(n.title,'"!')),setTimeout(function(){return w(null)},3e3)}o.$x(e),a()}(e.id)},className:"btn btn-sm btn-outline-danger rounded-circle",style:{width:"32px",height:"32px",padding:0},"aria-label":"Delete goal"},n.createElement("span",{style:{fontSize:"0.8rem"}},"Ã—"))),n.createElement("div",{className:"progress mb-2",style:{height:"8px"}},n.createElement("div",{className:"progress-bar bg-primary",role:"progressbar",style:{width:"".concat(Math.min(100,e.completedPomodoros/e.pomodoros*100),"%"),backgroundColor:"var(--color-primary)"},"aria-valuenow":e.completedPomodoros,"aria-valuemin":"0","aria-valuemax":e.pomodoros})),n.createElement("small",{className:"text-muted"},e.completedPomodoros," / ",e.pomodoros," sessions completed",e.completedPomodoros>=e.pomodoros&&n.createElement("span",{className:"text-success fw-bold ms-1"},"âœ“ Complete! Click âœ• for XP")))}))),x>1&&n.createElement("div",{className:"d-flex justify-content-center mt-3"},n.createElement("nav",null,n.createElement("ul",{className:"pagination pagination-sm mb-0"},n.createElement("li",{className:"page-item ".concat(1===h?"disabled":"")},n.createElement("button",{className:"page-link",onClick:function(){return y(h-1)},disabled:1===h},"â€¹")),Array.from({length:x},function(e,t){return n.createElement("li",{key:t+1,className:"page-item ".concat(h===t+1?"active":"")},n.createElement("button",{className:"page-link",onClick:function(){return y(t+1)}},t+1))}),n.createElement("li",{className:"page-item ".concat(h===x?"disabled":"")},n.createElement("button",{className:"page-link",onClick:function(){return y(h+1)},disabled:h===x},"â€º"))))))}}}]);